<h5>
  <%= Station.all.find(@trips[0][0]['station_id']).name %>
  <i class="tiny material-icons">fast_forward</i>
  <%= Station.all.find(@trips[0][1]['station_id']).name %>
</h5>

<% for i in 0..@trips.count-1 %>
<!-- We probably want to move this code below somewhere else eventually. -->
  <% dep_time = @trips[i][0]["departure_time"] %>
  <% arv_time = @trips[i][1]["departure_time"] %>
    <div class="row">
      <div class="col s12 m6">
        <div class="card blue-grey darken-1">
          <div class="card-content white-text">
            <span class="card-title activator orange-title">Train #<%= @trips[i][2]["train_number"] %><i class="material-icons right">more_vert</i></span></span>
            <p>Departure : <%= dep_time.to_datetime.utc.strftime("%l:%M %p") %></p>
            <p>Arrival : <%= arv_time.utc.to_datetime.strftime("%l:%M %p") %></p>
            <p>Duration : <%= ((arv_time - dep_time) / 60).floor %> minutes</p>
          </div>
          <div class="card-reveal blue-grey lighten-4">
            <span class="card-title grey-text text-darken-4">Full Listing:<i class="material-icons right">close</i></span>
            <table>
              <% train_id = @trips[i][0]['train_id'] %>
              <% Train.find(train_id).stops.reverse.each do |stop| %>
                <tr>
                  <td><%= Station.find(stop.station_id).name %></td>
                  <td><%= stop.departure_time.to_datetime.utc.strftime("%l:%M %p") %></td>
                </tr>
              <% end %>
            </table>
          </div>
        </div>
      </div>
    </div>
<% end %>
